{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 17, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ushit%20sharma/test/CLC/clc%20next/my-project/src/app/blog/%5Bslug%5D/page.tsx"],"sourcesContent":["// \"use client\"\r\n// import { notFound } from \"next/navigation\";\r\n// import { client } from \"@/lib/sanity\";\r\n// import { urlFor } from \"@/lib/sanity\";\r\n// import Header from \"@/components/Header\";\r\n// import LeftSidebar from \"@/components/LeftSidebar\";\r\n// import RightSidebar from \"@/components/RightSidebar\";\r\n// import Footer from \"@/components/Footer\";\r\n// import Link from \"next/link\";\r\n// import { ArrowLeft, Eye } from \"lucide-react\";\r\n// import { format } from \"date-fns\";\r\n// import { SanityContentRenderer } from \"@/lib/sanityContent\";\r\n// // import { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\r\n// // const queryClient = new QueryClient();\r\n\r\n// type Params = { slug: string | string[] | undefined };\r\n\r\n// // ----------------------\r\n// // Debuggable fetch\r\n// // ----------------------\r\n// async function getBlogPostDebug(slug?: string | string[]) {\r\n//   console.log(\"[getBlogPostDebug] called with slug:\", slug);\r\n\r\n//   if (!slug || Array.isArray(slug)) {\r\n//     console.log(\"[getBlogPostDebug] invalid or missing slug -> returning null\");\r\n//     return null;\r\n//   }\r\n\r\n//   const query = `\r\n//     *[_type == \"blogPost\" && slug.current == $slug][0]{\r\n//       title,\r\n//       excerpt,\r\n//       content,\r\n//       featuredImage,\r\n//       publishedAt,\r\n//       category->{name},\r\n//       seo,\r\n//       slug,\r\n//       downloadUrl\r\n//     }\r\n//   `;\r\n\r\n//   try {\r\n//     const res = await client.fetch(query, { slug });\r\n//     console.log(\r\n//       \"[getBlogPostDebug] sanity response present:\",\r\n//       !!res,\r\n//       res ? { title: res.title, slug: res.slug } : null\r\n//     );\r\n//     return res;\r\n//   } catch (err: any) {\r\n//     console.error(\"[getBlogPostDebug] fetch error:\", err?.message ?? err);\r\n//     // If Sanity returns detailed response, log it too\r\n//     if (err?.response) {\r\n//       try {\r\n//         console.error(\"[getBlogPostDebug] error.response:\", err.response);\r\n//       } catch {}\r\n//     }\r\n//     return { __debugError: err?.message ?? String(err) };\r\n//   }\r\n// }\r\n\r\n// // ----------------------\r\n// // Metadata (kept minimal for debug)\r\n// // ----------------------\r\n// // export async function generateMetadata({ params }: { params: Params }){\r\n// //   // keep metadata light while debugging\r\n// //   const blogPost = await getBlogPostDebug(params?.slug);\r\n// //   if (!blogPost || (blogPost as any).__debugError) return {};\r\n// //   const title = blogPost.seo?.metaTitle || blogPost.title;\r\n// //   return { title: `${title} | Commercial Law Chamber` };\r\n// // }\r\n\r\n// // ----------------------\r\n// // Page with debug UI\r\n// // ----------------------\r\n// export default async function BlogPage({ params }: { params: Params }) {\r\n  \r\n//   // FIX → unwrap the Promise\r\n//   const resolvedParams = await params;\r\n//   const slug = Array.isArray(resolvedParams.slug)\r\n//     ? resolvedParams.slug[0]\r\n//     : resolvedParams.slug;\r\n\r\n//   console.log(\"[BlogPage] resolved slug:\", slug);\r\n\r\n//   const blogPost = await getBlogPostDebug(slug);\r\n\r\n//   console.log(\"[BlogPage] blogPost found:\", !!blogPost && !(blogPost as any).__debugError);\r\n\r\n//   const fetchError =\r\n//     blogPost && (blogPost as any).__debugError\r\n//       ? (blogPost as any).__debugError\r\n//       : null;\r\n\r\n//   if (!blogPost || fetchError) {\r\n//     return (\r\n//       <div style={{ padding: 24, fontFamily: \"system-ui, Arial\" }}>\r\n//         <h2 style={{ marginBottom: 12 }}>\r\n//           Debug — Blog post not found or fetch failed\r\n//         </h2>\r\n\r\n//         <section style={{ marginBottom: 16 }}>\r\n//           <strong>Route params (after await):</strong>\r\n//           <pre\r\n//             style={{\r\n//               whiteSpace: \"pre-wrap\",\r\n//               background: \"#f6f8fa\",\r\n//               padding: 12,\r\n//             }}\r\n//           >\r\n//             {JSON.stringify(resolvedParams, null, 2)}\r\n//           </pre>\r\n//         </section>\r\n\r\n//         <section style={{ marginBottom: 16 }}>\r\n//           <strong>Sanity response / error:</strong>\r\n//           <pre\r\n//             style={{\r\n//               whiteSpace: \"pre-wrap\",\r\n//               background: \"#f6f8fa\",\r\n//               padding: 12,\r\n//             }}\r\n//           >\r\n//             {fetchError\r\n//               ? `FETCH ERROR: ${String(fetchError)}`\r\n//               : JSON.stringify(blogPost, null, 2)}\r\n//           </pre>\r\n//         </section>\r\n\r\n//         <section style={{ color: \"#555\" }}>\r\n//           <p>\r\n//             <strong>Checklist:</strong>\r\n//           </p>\r\n//           <ol>\r\n//             <li>\r\n//               Open Sanity Studio → Vision and run the GROQ below for the exact\r\n//               slug you see in <code>params</code>.\r\n//             </li>\r\n//             <li>\r\n//               Ensure the document for that slug is <strong>published</strong>{\" \"}\r\n//               (not draft).\r\n//             </li>\r\n//             <li>Confirm the slug text exactly matches.</li>\r\n//             <li>If fetch error appears → paste it here.</li>\r\n//           </ol>\r\n//         </section>\r\n//       </div>\r\n//     );\r\n//   }\r\n\r\n//   const publishedDate = blogPost.publishedAt\r\n//     ? new Date(blogPost.publishedAt)\r\n//     : new Date();\r\n\r\n//   return (\r\n//     <div className=\"min-h-screen\">\r\n//       <div className=\"max-w-7xl bg-slate-900/40 mx-auto px-4 sm:px-6 lg:px-8 py-4\">\r\n//         <Header />\r\n\r\n//         <div className=\"flex flex-col lg:flex-row gap-4\">\r\n//           <div className=\"hidden lg:block lg:w-48 xl:w-52\">\r\n//             <LeftSidebar activeSection=\"insights\" />\r\n//           </div>\r\n\r\n//           <div className=\"flex-1 min-w-0\">\r\n//             <article className=\"bg-white/95 backdrop-blur-sm p-8 rounded-lg shadow-sm\">\r\n//               <div className=\"max-w-4xl mx-auto\">\r\n//                 <div className=\"mb-6\">\r\n//                   <Link\r\n//                     href=\"/insights\"\r\n//                     className=\"flex items-center gap-2 text-gray-600 hover:text-gray-800\"\r\n//                   >\r\n//                     <ArrowLeft className=\"h-4 w-4\" /> Back to Insights\r\n//                   </Link>\r\n//                 </div>\r\n\r\n//                 <h1 className=\"text-3xl lg:text-4xl font-bold poppins text-[#163C0F] mb-6\">\r\n//                   {blogPost.title}\r\n//                 </h1>\r\n\r\n//                 {blogPost.category?.name && (\r\n//                   <span className=\"inline-block bg-primary/10 text-primary px-3 py-1 rounded-full text-sm font-medium mb-4\">\r\n//                     {blogPost.category.name}\r\n//                   </span>\r\n//                 )}\r\n\r\n//                 <time\r\n//                   className=\"text-sm text-gray-600 block mb-5\"\r\n//                   dateTime={publishedDate.toISOString()}\r\n//                 >\r\n//                   {format(publishedDate, \"MMMM d, yyyy\")}\r\n//                 </time>\r\n\r\n//                 {blogPost.featuredImage && (\r\n//                   <img\r\n//                     src={urlFor(blogPost.featuredImage)\r\n//                       .width(800)\r\n//                       .height(400)\r\n//                       .url()}\r\n//                     alt={blogPost.title}\r\n//                     className=\"w-full h-auto rounded-lg shadow-md mb-8\"\r\n//                   />\r\n//                 )}\r\n                \r\n//                   <div itemProp=\"articleBody\" className=\"text-gray-700\">\r\n//                     <SanityContentRenderer content={blogPost.content} />\r\n//                   </div>\r\n\r\n\r\n//                 {blogPost.downloadUrl && (\r\n//                   <div className=\"mt-8\">\r\n//                     <Link\r\n//                       href={blogPost.downloadUrl}\r\n//                       target=\"_blank\"\r\n//                       className=\"inline-flex items-center gap-2 border px-4 py-2 rounded-md hover:bg-gray-50\"\r\n//                     >\r\n//                       <Eye className=\"h-4 w-4\" />\r\n//                       Read The Full Document Here\r\n//                     </Link>\r\n//                   </div>\r\n//                 )}\r\n//               </div>\r\n//             </article>\r\n//           </div>\r\n\r\n//           <div className=\"hidden lg:block lg:w-60 xl:w-64\">\r\n//             {/* <QueryClientProvider client={queryClient}> */}\r\n//             <RightSidebar />\r\n//             {/* </QueryClientProvider> */}\r\n//           </div>\r\n//         </div>\r\n\r\n//         <Footer />\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// }\r\n"],"names":[],"mappings":"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"}}]
}